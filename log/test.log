  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "people"[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "people" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(50) NOT NULL, "email" varchar(100), "password" varchar(100), "born_at" date, "admin" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_people_on_email" ON "people" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240327125900)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-03-29 03:08:09.821545', '2024-03-29 03:08:09.821548') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '169354fd2d208259fdc425e4a6c68b1de054b824', '2024-03-29 03:08:09.822908', '2024-03-29 03:08:09.822910') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-03-29 03:08:09.902621', '2024-03-29 03:08:09.902621');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-03-29 03:08:09.902621', '2024-03-29 03:08:09.902621')[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-03-29 03:09:57.431359', '2024-03-29 03:09:57.431359');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-03-29 03:09:57.431359', '2024-03-29 03:09:57.431359')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-03-29 16:38:41.596288', '2024-03-29 16:38:41.596288');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-03-29 16:38:41.596288', '2024-03-29 16:38:41.596288')[0m
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", ""], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-03-29 16:39:23.334013', '2024-03-29 16:39:23.334013');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-03-29 16:39:23.334013', '2024-03-29 16:39:23.334013')[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", ""], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-03-29 16:40:00.664676', '2024-03-29 16:40:00.664676');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-03-29 16:40:00.664676', '2024-03-29 16:40:00.664676')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:10:59.240569', '2024-04-01 11:10:59.240569');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:10:59.240569', '2024-04-01 11:10:59.240569')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:14:36.136457', '2024-04-01 11:14:36.136457');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:14:36.136457', '2024-04-01 11:14:36.136457')[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:14:36 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 308)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1746)
  Rendered layout layouts/application.html.erb (Duration: 259.4ms | Allocations: 95300)
Completed 200 OK in 267ms (Views: 261.8ms | ActiveRecord: 0.1ms | Allocations: 99905)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:14:36 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1107)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:14:36 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1388)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:14:36 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 993)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 1592)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 2017)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:14:36 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 4.2ms | Allocations: 2429)
  Rendered people/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2704)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3307)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 3624)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:14:36 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.2ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:14:36.585154"], ["updated_at", "2024-04-01 11:14:36.585154"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1050)
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:14:36 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.2ms | Allocations: 968)
  Rendered people/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1206)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 1805)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 2202)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:16:35.037089', '2024-04-01 11:16:35.037089');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:16:35.037089', '2024-04-01 11:16:35.037089')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:16:35 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 308)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1746)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 33751)
Completed 200 OK in 47ms (Views: 41.9ms | ActiveRecord: 0.1ms | Allocations: 38358)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:16:35 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 3.6ms | Allocations: 2642)
  Rendered people/edit.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2962)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 3561)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms | Allocations: 4136)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:16:35 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 829)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 1428)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 1852)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:16:35 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functional@teste.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x000071c5f7aae888>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functional@teste.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.3ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:16:35.256809"], ["updated_at", "2024-04-01 11:16:35.256809"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1734)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:16:35 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.1ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 726)
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:16:35 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 997)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:16:35 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.1ms | Allocations: 929)
  Rendered people/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1126)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 1729)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 2018)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:17:01.024860', '2024-04-01 11:17:01.024860');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:17:01.024860', '2024-04-01 11:17:01.024860')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:01 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 7ms (ActiveRecord: 0.1ms | Allocations: 2245)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:17:01 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 17.6ms | Allocations: 2629)
  Rendered people/edit.html.erb within layouts/application (Duration: 19.6ms | Allocations: 3100)
  Rendered layout layouts/application.html.erb (Duration: 73.3ms | Allocations: 35099)
Completed 200 OK in 89ms (Views: 79.6ms | ActiveRecord: 0.0ms | Allocations: 37731)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:17:01 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.0ms | Allocations: 938)
  Rendered people/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1139)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 1742)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 2034)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:17:01 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 255)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1225)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 1828)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms | Allocations: 2136)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:17:01 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functional@teste.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x00007d83897924f0>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functional@teste.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.3ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:17:01.274978"], ["updated_at", "2024-04-01 11:17:01.274978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 1122)
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:01 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.1ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 715)
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:01 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 1426)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 1850)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:17:12.125032', '2024-04-01 11:17:12.125032');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:17:12.125032', '2024-04-01 11:17:12.125032')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:17:12 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.5ms | Allocations: 286)
  Rendered people/_person.html.erb (Duration: 1.8ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 1716)
  Rendered layout layouts/application.html.erb (Duration: 95.4ms | Allocations: 33736)
Completed 200 OK in 103ms (Views: 99.9ms | ActiveRecord: 0.1ms | Allocations: 37184)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:17:12 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@teste.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x00007c9ee398c958>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@teste.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.3ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:17:12.364475"], ["updated_at", "2024-04-01 11:17:12.364475"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1397)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:17:12 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 4.0ms | Allocations: 2490)
  Rendered people/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2769)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3372)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 3663)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:17:12 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.2ms | Allocations: 971)
  Rendered people/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1210)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 1809)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 2377)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:12 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.1ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 720)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:12 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 640)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:12 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 1426)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 1850)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:17:25.579161', '2024-04-01 11:17:25.579161');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:17:25.579161', '2024-04-01 11:17:25.579161')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:17:25 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.2ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 1.2ms | Allocations: 286)
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 1716)
  Rendered layout layouts/application.html.erb (Duration: 54.9ms | Allocations: 33746)
Completed 200 OK in 64ms (Views: 58.9ms | ActiveRecord: 0.1ms | Allocations: 37196)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:17:25 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 5.5ms | Allocations: 2530)
  Rendered people/edit.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2850)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3449)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 4022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:25 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 915)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:17:25 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.4ms | Allocations: 930)
  Rendered people/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1127)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 1730)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 2021)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:25 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 738)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:17:25 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x0000721317fd51f0>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.4ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:17:25.921227"], ["updated_at", "2024-04-01 11:17:25.921227"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1100)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:17:25 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 1426)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms | Allocations: 1850)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:18:26.710977', '2024-04-01 11:18:26.710977');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:18:26.710977', '2024-04-01 11:18:26.710977')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:18:26 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 15.2ms | Allocations: 2771)
  Rendered people/new.html.erb within layouts/application (Duration: 17.0ms | Allocations: 3190)
  Rendered layout layouts/application.html.erb (Duration: 69.0ms | Allocations: 35207)
Completed 200 OK in 89ms (Views: 76.3ms | ActiveRecord: 0.0ms | Allocations: 39806)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:18:26 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.1ms | Allocations: 998)
  Rendered people/edit.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1256)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 1855)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 2448)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:18:26 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.5ms | Allocations: 261)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1375)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 1978)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms | Allocations: 2286)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:18:26 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1569)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:18:26 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x0000700252e4cb30>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.2ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:18:26.940338"], ["updated_at", "2024-04-01 11:18:26.940338"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1144)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:18:26 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.1ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 719)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:18:26 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1426)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 1850)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@gametest"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:18:44.664434', '2024-04-01 11:18:44.664434');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:18:44.664434', '2024-04-01 11:18:44.664434')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:18:44 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 4.1ms | Allocations: 2771)
  Rendered people/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3190)
  Rendered layout layouts/application.html.erb (Duration: 39.0ms | Allocations: 35198)
Completed 200 OK in 47ms (Views: 41.4ms | ActiveRecord: 0.0ms | Allocations: 39797)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:18:44 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x0000723050b496a8>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.2ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:18:44.855139"], ["updated_at", "2024-04-01 11:18:44.855139"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1873)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:18:44 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 255)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1243)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 1846)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms | Allocations: 2155)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:18:44 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.2ms | Allocations: 976)
  Rendered people/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1215)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 1814)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 2382)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:18:44 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 1426)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 1851)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:18:44 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.1ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 727)
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:18:44 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 998)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@gametest.com"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:19:54.557297', '2024-04-01 11:19:54.557297');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:19:54.557297', '2024-04-01 11:19:54.557297')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:19:54 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 4.2ms | Allocations: 2826)
  Rendered people/edit.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3303)
  Rendered layout layouts/application.html.erb (Duration: 94.3ms | Allocations: 35315)
Completed 200 OK in 103ms (Views: 97.1ms | ActiveRecord: 0.1ms | Allocations: 40216)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:19:54 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 261)
  Rendered people/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1495)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 2094)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 2520)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:19:54 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.2ms | Allocations: 938)
  Rendered people/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1135)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 1738)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 2055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:19:54 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x00007de792785be8>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.3ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:19:54.778835"], ["updated_at", "2024-04-01 11:19:54.778835"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1706)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:19:54 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 727)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:19:54 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 998)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:19:54 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 714)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 1317)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 1625)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "test@test"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:23:34.794796', '2024-04-01 11:23:34.794796');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:23:34.794796', '2024-04-01 11:23:34.794796')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:23:34 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2214)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:23:34 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 3.7ms | Allocations: 2634)
  Rendered people/edit.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3106)
  Rendered layout layouts/application.html.erb (Duration: 41.4ms | Allocations: 35075)
Completed 200 OK in 46ms (Views: 43.9ms | ActiveRecord: 0.0ms | Allocations: 37706)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:23:35 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.0ms | Allocations: 930)
  Rendered people/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1127)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 1730)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 2022)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:23:35 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 261)
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1231)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 1834)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms | Allocations: 2142)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:23:35 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 745)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:23:35 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x000077b339e57a90>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.2ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:23:35.042490"], ["updated_at", "2024-04-01 11:23:35.042490"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1100)
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:23:35 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1426)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 1850)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:50:59.155792', '2024-04-01 11:50:59.155792');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:50:59.155792', '2024-04-01 11:50:59.155792')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-01 08:50:59 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 4.2ms | Allocations: 2827)
  Rendered people/edit.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3304)
  Rendered layout layouts/application.html.erb (Duration: 93.8ms | Allocations: 35321)
Completed 200 OK in 102ms (Views: 96.6ms | ActiveRecord: 0.0ms | Allocations: 40254)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-01 08:50:59 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/135138680
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 2618)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-01 08:50:59 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.6ms | Allocations: 255)
  Rendered people/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1343)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 1942)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms | Allocations: 2369)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-01 08:50:59 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 1.2ms | Allocations: 937)
  Rendered people/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1134)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 1737)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 2054)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-01 08:50:59 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people"[0m
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 715)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 1318)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 1626)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-01 08:50:59 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 991)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-01 08:50:59 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x000072d3c59ac638>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Create (0.2ms)[0m  [1m[32mINSERT INTO "people" ("name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Pedro Henrique"], ["email", nil], ["password", "[FILTERED]"], ["born_at", "2007-02-02"], ["admin", 1], ["created_at", "2024-04-01 11:50:59.401291"], ["updated_at", "2024-04-01 11:50:59.401291"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people/822566587
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1396)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:54:29.593904', '2024-04-01 11:54:29.593904');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:54:29.593904', '2024-04-01 11:54:29.593904')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Update (0.1ms)[0m  [1m[33mUPDATE "people" SET "email" = ?, "updated_at" = ? WHERE "people"."id" = ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["updated_at", "2024-04-01 11:54:29.628056"], ["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:54:51.806522', '2024-04-01 11:54:51.806522');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:54:51.806522', '2024-04-01 11:54:51.806522')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Update (0.1ms)[0m  [1m[33mUPDATE "people" SET "email" = ?, "updated_at" = ? WHERE "people"."id" = ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["updated_at", "2024-04-01 11:54:51.830738"], ["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:55:06.535066', '2024-04-01 11:55:06.535066');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:55:06.535066', '2024-04-01 11:55:06.535066')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Update (0.1ms)[0m  [1m[33mUPDATE "people" SET "email" = ?, "updated_at" = ? WHERE "people"."id" = ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["updated_at", "2024-04-01 11:55:06.566517"], ["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:57:20.173674', '2024-04-01 11:57:20.173674');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:57:20.173674', '2024-04-01 11:57:20.173674')[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Update (0.1ms)[0m  [1m[33mUPDATE "people" SET "email" = ?, "updated_at" = ? WHERE "people"."id" = ?[0m  [["email", "taq@bluefish.com.br"], ["updated_at", "2024-04-01 11:57:20.204308"], ["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:58:17.135484', '2024-04-01 11:58:17.135484');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:58:17.135484', '2024-04-01 11:58:17.135484')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Update (0.1ms)[0m  [1m[33mUPDATE "people" SET "email" = ?, "updated_at" = ? WHERE "people"."id" = ?[0m  [["email", "taq@bluefish.com.br"], ["updated_at", "2024-04-01 11:58:17.164151"], ["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', 'teste123', '2007-02-02', 1, '2024-04-01 11:59:23.067045', '2024-04-01 11:59:23.067045');
INSERT INTO "people" ("id", "name", "email", "password", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', 'lorena123', '2009-12-08', 0, '2024-04-01 11:59:23.067045', '2024-04-01 11:59:23.067045')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Update (0.1ms)[0m  [1m[33mUPDATE "people" SET "email" = ?, "updated_at" = ? WHERE "people"."id" = ?[0m  [["email", "taq@bluefish.com.br"], ["updated_at", "2024-04-01 11:59:23.100005"], ["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people"[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "people" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(50) NOT NULL, "email" varchar(100), "password_digest" varchar(100), "born_at" date, "admin" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_people_on_email" ON "people" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240401121009)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240327125900);[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-02 10:22:57.533730', '2024-04-02 10:22:57.533732') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '3f4bd20a0a6a40ddd9d8ce5813df726ad58771fb', '2024-04-02 10:22:57.534432', '2024-04-02 10:22:57.534434') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', '$2a$12$Nzi7Us5YM/z7hZ5e7J/FqeC5ZmWg0tznv2AyC2y8w4tkovJbAsZSq', '2007-02-02', 1, '2024-04-02 10:49:03.415741', '2024-04-02 10:49:03.415741');
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', '$2a$12$c9Vlc5ikD.pVp47xMWSNQes579/Nv.yBfYiFQTeoV3czohLqKniIC', '2009-12-08', 0, '2024-04-02 10:49:03.415741', '2024-04-02 10:49:03.415741')[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PersonTest: test_n√£o_deve_autenticar_a_pessoa
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_metodo_para_autenticar_a_pessoa_atrav√©s_de_email_e_senha
-------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
PersonTest: test_n√£o_deve_autenticar_com_email_e_senha
------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_padr√£o_para_retornar_os_usu√°rios_em_ordem_alfab√©tica
----------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Person Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
PersonTest: test_deve_autenticar_com_email_e_senha
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PersonTest: test_deve_autenticar_a_pessoa
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_para_retornar_usuarios_por_dominio
----------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people" WHERE (email like '%@teste.com')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-02 07:49:03 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 7.9ms | Allocations: 4473)
  Rendered people/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 4891)
  Rendered layout layouts/application.html.erb (Duration: 55.7ms | Allocations: 36906)
Completed 200 OK in 64ms (Views: 58.8ms | ActiveRecord: 0.0ms | Allocations: 40351)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-02 07:49:03 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC[0m
  Rendered people/_person.html.erb (Duration: 0.8ms | Allocations: 263)
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered people/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1399)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2002)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.1ms | Allocations: 2331)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
PeopleControllerTest: test_should_update_person_without_changing_password
-------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680" for 127.0.0.1 at 2024-04-02 07:49:03 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: update, request: #<ActionDispatch::Request:0x00007303ef764740>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "controller"=>"people", "action"=>"update", "id"=>"135138680"} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 793)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680" for 127.0.0.1 at 2024-04-02 07:49:03 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 1842)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-02 07:49:03 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Zaratustra", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x00007303ef6f5fc0>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Zaratustra", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 401)
PeopleControllerTest - test_should_create_person: ActiveModel::UnknownAttributeError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680/edit" for 127.0.0.1 at 2024-04-02 07:49:03 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 3.0ms | Allocations: 2298)
  Rendered people/edit.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2538)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 3137)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.1ms | Allocations: 3630)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680" for 127.0.0.1 at 2024-04-02 07:49:03 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered people/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 1426)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.1ms | Allocations: 1945)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', '$2a$12$B0rUDXV1SzK3/nEH/5VwO.LnZ6twonkvgq.8NvojVUtyu3D3Cu.Qa', '2007-02-02', 1, '2024-04-03 11:34:44.758396', '2024-04-03 11:34:44.758396');
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', '$2a$12$GhFX6voj8F0MDhHvNp83RO92w4emliwyRZiKQou3F2jJUzOp8LHk.', '2009-12-08', 0, '2024-04-03 11:34:44.758396', '2024-04-03 11:34:44.758396')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
PersonTest: test_n√£o_deve_autenticar_com_email_e_senha
------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PersonTest: test_n√£o_deve_autenticar_a_pessoa
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PersonTest: test_deve_autenticar_a_pessoa
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_metodo_para_autenticar_a_pessoa_atrav√©s_de_email_e_senha
-------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_para_retornar_usuarios_por_dominio
----------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people" WHERE (email like '%@teste.com')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_padr√£o_para_retornar_os_usu√°rios_em_ordem_alfab√©tica
----------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Person Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
PersonTest: test_deve_autenticar_com_email_e_senha
--------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-03 08:34:44 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC[0m
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 282)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 30)
  Rendered people/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1721)
  Rendered layout layouts/application.html.erb (Duration: 71.1ms | Allocations: 33745)
Completed 200 OK in 77ms (Views: 73.5ms | ActiveRecord: 0.1ms | Allocations: 37198)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique/edit" for 127.0.0.1 at 2024-04-03 08:34:44 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 27.3ms | Allocations: 4320)
  Rendered people/edit.html.erb within layouts/application (Duration: 31.0ms | Allocations: 4653)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 5252)
Completed 200 OK in 37ms (Views: 34.1ms | ActiveRecord: 0.1ms | Allocations: 5804)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:34:45 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered people/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 845)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 1449)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.1ms | Allocations: 1969)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
PeopleControllerTest: test_should_update_person_without_changing_password
-------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:34:45 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: update, request: #<ActionDispatch::Request:0x00007c84ee5ec000>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "controller"=>"people", "action"=>"update", "id"=>"135138680-pedro-henrique"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 726)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-03 08:34:45 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameters: :email, :password. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x00007c84eeb6d678>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 441)
PeopleControllerTest - test_should_create_person: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-03 08:34:45 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 2.8ms | Allocations: 2310)
  Rendered people/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2509)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 3113)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms | Allocations: 3431)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:34:45 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1842)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', '$2a$12$DcfMdZWCw4wvMu5gCzFMye1extLrKqb26Cc7OCO/u55KMQIrhmwmq', '2007-02-02', 1, '2024-04-03 11:39:59.506383', '2024-04-03 11:39:59.506383');
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', '$2a$12$QHfAxk1CurwARbJASMaqsea6TD0XEtXNHzhZs2VZ5H.f02o.cApkW', '2009-12-08', 0, '2024-04-03 11:39:59.506383', '2024-04-03 11:39:59.506383')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_padr√£o_para_retornar_os_usu√°rios_em_ordem_alfab√©tica
----------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Person Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_para_retornar_usuarios_por_dominio
----------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people" WHERE (email like '%@teste.com')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_metodo_para_autenticar_a_pessoa_atrav√©s_de_email_e_senha
-------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
PersonTest: test_deve_autenticar_com_email_e_senha
--------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PersonTest: test_deve_autenticar_a_pessoa
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
PersonTest: test_n√£o_deve_autenticar_com_email_e_senha
------------------------------------------------------
  [1m[36mPerson Load (0.8ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PersonTest: test_n√£o_deve_autenticar_a_pessoa
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:39:59 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 282)
  Rendered people/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1885)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 33862)
Completed 200 OK in 47ms (Views: 42.0ms | ActiveRecord: 0.1ms | Allocations: 37592)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-03 08:39:59 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 4.4ms | Allocations: 4252)
  Rendered people/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4527)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 5130)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 5450)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique/edit" for 127.0.0.1 at 2024-04-03 08:39:59 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 2.7ms | Allocations: 2303)
  Rendered people/edit.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 3150)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 3642)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-03 08:39:59 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC[0m
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 733)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1336)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 1664)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-03 08:39:59 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameters: :email, :password. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x0000726869f812d8>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 537)
PeopleControllerTest - test_should_create_person: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:39:59 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1841)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
PeopleControllerTest: test_should_update_person_without_changing_password
-------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:39:59 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: update, request: #<ActionDispatch::Request:0x0000726869f091c0>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "controller"=>"people", "action"=>"update", "id"=>"135138680-pedro-henrique"} }[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms | Allocations: 630)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', '$2a$12$64Jwizrlj4zMfOM0GYPZC.VnxpTrvr3H8fyUjYPZrfP4UCrA0ynty', '2007-02-02', 1, '2024-04-03 11:50:11.647588', '2024-04-03 11:50:11.647588');
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', '$2a$12$0uIB7HGpiiKJ1p5Wkpv/j.Z80ngje1735xlAOyW/bQDjb840jqE3i', '2009-12-08', 0, '2024-04-03 11:50:11.647588', '2024-04-03 11:50:11.647588')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-03 08:50:11 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC[0m
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 309)
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered people/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1775)
  Rendered layout layouts/application.html.erb (Duration: 47.1ms | Allocations: 33780)
Completed 200 OK in 69ms (Views: 50.6ms | ActiveRecord: 0.1ms | Allocations: 38502)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:50:11 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1998)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-03 08:50:11 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameters: :email, :password. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x000075327507bd78>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1025)
PeopleControllerTest - test_should_create_person: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-03 08:50:11 -0300
Processing by PeopleController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/new.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 6.5ms | Allocations: 4431)
  Rendered people/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 4710)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 5318)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 5638)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:50:11 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered people/show.html.erb within layouts/application (Duration: 1.2ms | Allocations: 851)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 1450)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 1969)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique/edit" for 127.0.0.1 at 2024-04-03 08:50:11 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 11.1ms | Allocations: 2303)
  Rendered people/edit.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2550)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 3149)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.0ms | Allocations: 3642)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
PeopleControllerTest: test_should_update_person_without_changing_password
-------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:50:11 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: update, request: #<ActionDispatch::Request:0x0000753275177d08>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "controller"=>"people", "action"=>"update", "id"=>"135138680-pedro-henrique"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 983)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
PersonTest: test_deve_autenticar_com_email_e_senha
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PersonTest: test_n√£o_deve_autenticar_a_pessoa
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_para_retornar_usuarios_por_dominio
----------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people" WHERE (email like '%@teste.com')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
PersonTest: test_n√£o_deve_autenticar_com_email_e_senha
------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_padr√£o_para_retornar_os_usu√°rios_em_ordem_alfab√©tica
----------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Person Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_metodo_para_autenticar_a_pessoa_atrav√©s_de_email_e_senha
-------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PersonTest: test_deve_autenticar_a_pessoa
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', '$2a$12$OTx5OaHSlRsKlT5XdRPTc.lxPpIf86.Ml9gxTVq5b3Jpb7fjVR5De', '2007-02-02', 1, '2024-04-03 11:52:56.669389', '2024-04-03 11:52:56.669389');
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', '$2a$12$KwlCo7OmuzDLGi9ld5olt.Fe8jYT0QRebgtbKsoPIXwNJzbXmSyo2', '2009-12-08', 0, '2024-04-03 11:52:56.669389', '2024-04-03 11:52:56.669389')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
PersonTest: test_n√£o_deve_autenticar_com_email_e_senha
------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PersonTest: test_deve_autenticar_a_pessoa
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.7ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_metodo_para_autenticar_a_pessoa_atrav√©s_de_email_e_senha
-------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.8ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_padr√£o_para_retornar_os_usu√°rios_em_ordem_alfab√©tica
----------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.8ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Person Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PersonTest: test_n√£o_deve_autenticar_a_pessoa
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
PersonTest: test_deve_autenticar_com_email_e_senha
--------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_para_retornar_usuarios_por_dominio
----------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people" WHERE (email like '%@teste.com')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-03 08:52:56 -0300
Processing by PeopleController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1079)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique/edit" for 127.0.0.1 at 2024-04-03 08:52:56 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 5.0ms | Allocations: 4476)
  Rendered people/edit.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4960)
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | Allocations: 36937)
Completed 200 OK in 46ms (Views: 43.4ms | ActiveRecord: 0.1ms | Allocations: 39780)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:52:56 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.2ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1990)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-03 08:52:56 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameters: :email, :password. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x00007feda89fe1b8>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 413)
PeopleControllerTest - test_should_create_person: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-03 08:52:56 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC[0m
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 260)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1237)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 1840)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms | Allocations: 2170)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:52:56 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered people/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 845)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1444)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 1965)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
PeopleControllerTest: test_should_update_person_without_changing_password
-------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:52:56 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: update, request: #<ActionDispatch::Request:0x00007feda895af18>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "controller"=>"people", "action"=>"update", "id"=>"135138680-pedro-henrique"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 632)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "people";
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (135138680, 'Pedro Henrique', 'teste@teste.com', '$2a$12$x66zjowAYIbdmf7RKSrvQelWnmnPPSQsmPdEvqj9vJ2DXe5/41TRm', '2007-02-02', 1, '2024-04-03 11:54:24.051343', '2024-04-03 11:54:24.051343');
INSERT INTO "people" ("id", "name", "email", "password_digest", "born_at", "admin", "created_at", "updated_at") VALUES (822566586, 'Lorena', 'lorena@teste.com', '$2a$12$3Cnu4kzxCiMKrrnn5wK4LeVj4Z/u.mys1JN2uribcCS1X7KrIZaSO', '2009-12-08', 0, '2024-04-03 11:54:24.051343', '2024-04-03 11:54:24.051343')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started POST "/people" for 127.0.0.1 at 2024-04-03 08:54:24 -0300
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: create, request: #<ActionDispatch::Request:0x0000739a91a4a980>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"functionals@gmail.com", "name"=>"Pedro Henrique", "password"=>"[FILTERED]"}, "controller"=>"people", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1430)
PeopleControllerTest - test_should_create_person: ActiveModel::UnknownAttributeError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
PeopleControllerTest: test_should_update_person_without_changing_password
-------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started PATCH "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:54:24 -0300
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
[31mUnpermitted parameter: :email. Context: { controller: PeopleController, action: update, request: #<ActionDispatch::Request:0x0000739a91181f60>, params: {"person"=>{"admin"=>"true", "born_at"=>"2007-02-02", "email"=>"teste@teste.com", "name"=>"Pedro Henrique"}, "controller"=>"people", "action"=>"update", "id"=>"135138680-pedro-henrique"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.4ms | Allocations: 1527)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:54:24 -0300
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/show.html.erb within layouts/application
  Rendered people/_person.html.erb (Duration: 0.4ms | Allocations: 275)
  Rendered people/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1956)
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | Allocations: 33933)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 0.0ms | Allocations: 37908)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people" for 127.0.0.1 at 2024-04-03 08:54:24 -0300
Processing by PeopleController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering people/index.html.erb within layouts/application
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC[0m
  Rendered people/_person.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered people/_person.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered people/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 746)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1349)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms | Allocations: 1679)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/new" for 127.0.0.1 at 2024-04-03 08:54:24 -0300
Processing by PeopleController#new as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 254)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
Started DELETE "/people/135138680-pedro-henrique" for 127.0.0.1 at 2024-04-03 08:54:24 -0300
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Destroy (0.1ms)[0m  [1m[31mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 135138680]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/people
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1856)
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/people/135138680-pedro-henrique/edit" for 127.0.0.1 at 2024-04-03 08:54:24 -0300
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"135138680-pedro-henrique"}
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering people/edit.html.erb within layouts/application
  Rendered people/_form.html.erb (Duration: 4.7ms | Allocations: 4224)
  Rendered people/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4550)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 5149)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 5645)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PersonTest: test_o_email_deve_ser_salvo_em_min√∫sculas
-----------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPerson Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "TAQ@BLUEFISH.COM.BR"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_para_retornar_usuarios_por_dominio
----------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "people" WHERE (email like '%@teste.com')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PersonTest: test_deve_autenticar_a_pessoa
-----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
PersonTest: test_pode_ter_email_vazio
-------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_pode_ser_maior_que_16_anos
----------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PersonTest: test_tem_quer_ser_v√°lido_sem_altera√ß√µes
---------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PersonTest: test_a_data_de_nascimento_n√£o_pode_ser_menor_que_16_anos
--------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PersonTest: test_n√£o_pode_ter_nome_maior_que_50_caracteres
----------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
PersonTest: test_n√£o_deve_autenticar_com_email_e_senha
------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
PersonTest: test_n√£o_pode_ter_nome_vazio
----------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
PersonTest: test_deve_autenticar_com_email_e_senha
--------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."email" = ? ORDER BY "people"."name" ASC LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_escopo_padr√£o_para_retornar_os_usu√°rios_em_ordem_alfab√©tica
----------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.1ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Person Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."name" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
PersonTest: test_deve_ter_um_metodo_para_autenticar_a_pessoa_atrav√©s_de_email_e_senha
-------------------------------------------------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_inv√°lido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mPerson Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "people" WHERE "people"."email" = ? AND "people"."id" != ? LIMIT ?[0m  [["email", "foo@bar"], ["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PersonTest: test_n√£o_deve_autenticar_a_pessoa
---------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
PersonTest: test_n√£o_pode_ter_email_repetido
--------------------------------------------
  [1m[36mPerson Load (0.0ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
